{% extends 'base_auth.html' %}

{% block title %}Nueva Contraseña | HealthLife{% endblock %}

{% block content %}
<div class="container d-flex justify-content-center align-items-center min-vh-100">
    <div class="card p-4 shadow" style="max-width: 450px; width: 100%;">
        {% if validlink %}
            <h4 class="mb-3 text-center" style="color: var(--verde-oscuro);">
                <i class="bi bi-shield-lock-fill"></i> Nueva Contraseña
            </h4>
            <p class="text-muted text-center">
                Ingresa tu nueva contraseña para continuar.
            </p>

            <form method="post">
                {% csrf_token %}
                {{ form.as_p }}
                <div class="d-grid">
                    <button type="submit" class="btn btn-success">
                        <i class="bi bi-arrow-repeat"></i> Cambiar contraseña
                    </button>
                </div>
            </form>
        {% else %}
            <h4 class="mb-3 text-center text-danger">
                <i class="bi bi-exclamation-triangle-fill"></i> Enlace no válido
            </h4>
            <p class="text-muted text-center">
                El enlace de restablecimiento ya fue usado o ha expirado.
            </p>
            <div class="text-center">
                <a href="{% url 'password_reset' %}" class="btn btn-primary">
                    <i class="bi bi-arrow-clockwise"></i> Solicitar nuevo enlace
                </a>
            </div>
        {% endif %}
    </div>
</div>
{% endblock %}
